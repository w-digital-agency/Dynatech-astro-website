---
// Google Tag Manager component for better analytics management
const GTM_ID = import.meta.env.PUBLIC_GTM_ID || 'GTM-XXXXXXX';
---

<!-- Google Tag Manager -->
<script is:inline define:vars={{ GTM_ID }}>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer', GTM_ID);
</script>
<!-- End Google Tag Manager -->

<!-- Google Tag Manager (noscript) -->
<noscript>
  <iframe 
    src={`https://www.googletagmanager.com/ns.html?id=${GTM_ID}`}
    height="0" 
    width="0" 
    style="display:none;visibility:hidden">
  </iframe>
</noscript>
<!-- End Google Tag Manager (noscript) -->

<!-- Custom events you can track in GTM: -->
<!-- 1. Consultation requests -->
<script is:inline>
  dataLayer.push({
    'event': 'consultation_request',
    'service_type': 'AI Strategy',
    'consultation_value': 500
  });
</script>

<!-- 2. Contact form submissions -->
<script is:inline>
  dataLayer.push({
    'event': 'contact_form_submit',
    'form_location': 'contact_page'
  });
</script>

<!-- 3. Service page views -->
<script is:inline>
  dataLayer.push({
    'event': 'service_view',
    'service_name': 'AI Integration'
  });
</script> 